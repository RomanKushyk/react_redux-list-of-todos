(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{21:function(e,t,c){},22:function(e,t,c){},23:function(e,t,c){},24:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var n,s=c(5),o=c.n(s),r=c(3),a=c(11),i=c(2),d=c(9),l=c(13);!function(e){e.all="all",e.active="active",e.completed="completed"}(n||(n={}));var u="SET_TODOS",j="SET_TODO_TITLE",b="SET_TODO_STATUS",O="SET_HAS_LOADING_ERROR",h=function(e){return{type:u,payload:e}},p=function(e){return{type:j,payload:e}},m=function(e){return{type:b,payload:e}},f=function(e){return{type:O,payload:e}},_=function(e){return e.todos},x=function(e){return e.todoTitle},v=function(e){return e.todoStatus},T=function(e){return e.hasLoadingError},y={todos:[],todoTitle:"",todoStatus:n.all,hasLoadingError:!1},N=Object(d.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(i.a)(Object(i.a)({},e),{},{todos:[].concat(Object(a.a)(e.todos),Object(a.a)(t.payload))});case j:return Object(i.a)(Object(i.a)({},e),{},{todoTitle:t.payload});case b:return Object(i.a)(Object(i.a)({},e),{},{todoStatus:t.payload});case O:return Object(i.a)(Object(i.a)({},e),{},{hasLoadingError:t.payload});default:return e}}),Object(l.composeWithDevTools)()),S=N,U=c(7),g=c(0),L=(c(21),c(22),c(23),c(24),function(e,t){return fetch("".concat("https://mate.academy/students-api").concat(e),t).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))}),E=c(1),I=Object(g.memo)((function(e){var t=e.selectedUserId,c=e.setSelectedUserId,s=Object(r.b)(),o=Object(r.c)(_),a=Object(r.c)(v),i=Object(r.c)(x);Object(g.useEffect)((function(){L("/todos").then((function(e){return s(h(e))}))}),[]);var d=function(e){var t=e.target,c=t.value;switch(t.name){case"todos-status-selector":s(m(c));break;case"todos-title-input":s(p(c))}},l=Object(g.useMemo)((function(){return o.filter((function(e){var t=e.title.toLowerCase(),c=i.toLowerCase();return t.includes(c)&&function(t){switch(t){case n.active:return!1===e.completed;case n.completed:return!0===e.completed;default:return!0}}(a)}))}),[i,a,o]);return Object(E.jsx)(E.Fragment,{children:o.length<=0?"Todos are loading":Object(E.jsxs)("div",{className:"TodoList",children:[Object(E.jsx)("h2",{children:"Todos:"}),Object(E.jsxs)("div",{className:"TodoList__list-container",children:[Object(E.jsxs)("form",{className:"TodoList__form form",children:[Object(E.jsx)("input",{type:"text",id:"todos-title-input",name:"todos-title-input",className:"form__title-input",value:i,onChange:d}),Object(E.jsx)("select",{id:"todos-status-selector",name:"todos-status-selector",className:"form__status-selector",value:a,onChange:d,children:Object.keys(n).map((function(e){return Object(E.jsx)("option",{value:e,children:e})}))})]}),Object(E.jsx)("ul",{className:"TodoList__list",children:l.map((function(e){return Object(E.jsxs)("li",{className:"TodoList__item TodoList__item--".concat(e.completed?"checked":"unchecked"),children:[Object(E.jsxs)("label",{children:[Object(E.jsx)("input",{type:"checkbox",checked:e.completed,readOnly:!0}),Object(E.jsx)("p",{children:e.title})]}),Object(E.jsx)("button",{className:"TodoList__user-button button "+"TodoList__user-button--".concat(e.userId===t&&"selected"),type:"button",onClick:function(){return c(e.userId)},children:"User #".concat(e.userId)})]},e.id)}))})]})]})})})),C=(c(26),c(27),function(){return Object(E.jsx)("div",{className:"LoadingError",children:"An error occurred when loading user!"})}),k=Object(g.memo)((function(e){var t=e.selectedUserId,c=e.setSelectedUserId,n=Object(r.b)(),s=Object(g.useState)(null),o=Object(U.a)(s,2),a=o[0],i=o[1],d=Object(r.c)(T);return Object(g.useEffect)((function(){var e;n(f(!1)),i(null),(e=t,L("/users/".concat(e))).then((function(e){return i(e)})).catch((function(){return n(f(!0))}))}),[t,c]),Object(E.jsx)(E.Fragment,{children:a?Object(E.jsxs)("div",{className:"CurrentUser",children:[Object(E.jsx)("h2",{className:"CurrentUser__title",children:Object(E.jsx)("span",{children:"Selected user: ".concat(null===a||void 0===a?void 0:a.id)})}),Object(E.jsx)("h3",{className:"CurrentUser__name",children:null===a||void 0===a?void 0:a.name}),Object(E.jsx)("p",{className:"CurrentUser__email",children:null===a||void 0===a?void 0:a.email}),Object(E.jsx)("p",{className:"CurrentUser__phone",children:null===a||void 0===a?void 0:a.phone}),Object(E.jsx)("button",{className:" CurrentUser__clear button ",type:"button",onClick:function(){return c(0)},children:"Clear"})]}):d?Object(E.jsx)(C,{}):"User is loading"})})),w=function(){var e=Object(g.useState)(0),t=Object(U.a)(e,2),c=t[0],n=t[1];return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)("div",{className:"App__sidebar",children:Object(E.jsx)(I,{selectedUserId:c,setSelectedUserId:n})}),Object(E.jsx)("div",{className:"App__content",children:Object(E.jsx)("div",{className:"App__content-container",children:c?Object(E.jsx)(k,{selectedUserId:c,setSelectedUserId:n}):"No user selected"})})]})},A=function(){return Object(E.jsx)(r.a,{store:S,children:Object(E.jsx)(w,{})})};o.a.render(Object(E.jsx)(A,{}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.3dc08b36.chunk.js.map